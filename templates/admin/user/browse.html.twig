{% extends 'admin/base.html.twig' %}

{% block title %}La Bric O'tech - Liste des utilisateurs{% endblock %}

{% block body %}

<h2>Utilisateurs</h2>
<a href="{{ path('admin_user_add') }}" class="bouton">Ajouter un utilisateur</a>

<table class="table table-striped table-hover">
<thead>
    <tr>
    <th scope="col">#</th>
    <th scope="col">Nom</th>
    <th scope="col">Prénom</th>
    <th scope="col">Rôle</th>
    <th scope="col" class="col-1">Action</th>
    </tr>
</thead>
<tbody>
{% for user in users %}
    <tr>
    <th scope="row">{{ user.id }}</th>
    <td>{{ user.firstname }}</td>
    <td>{{ user.lastname }}</td>
    <td>
        {% for role in user.roles %}
            {{ role }}
        {% endfor %}
    </td>
    <td>
        <a href="{{ path('admin_user_edit', {'id': user.id}) }}" class="edit" alt="éditer" title="Éditer">
            <span class="iconify" data-icon="akar-icons:edit" data-inline="false"></span>
        </a>

        <form action="{{ path('admin_user_delete', {'id': user.id}) }}" method="post" class="d-inline">
            <input type="hidden" name="_method" value="DELETE">
            <button class="delete"><span class="iconify" data-icon="typcn:delete-outline" data-inline="false"></span></button>
        </form>
    </td>
    </tr>
{% endfor %}
</tbody>
</table>

{% endblock %}